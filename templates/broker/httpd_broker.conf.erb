# This file is managed by Puppet.
ServerRoot "/var/www/openshift/broker/httpd"
DocumentRoot "/var/www/openshift/broker/public"
Listen <%= scope.lookupvar('::openshift_origin::broker_listen_ip') %>:8080
User apache
Group apache

include /etc/httpd/conf.d/passenger.conf
PassengerUser apache
PassengerMaxPoolSize 80
PassengerMinInstances 2
PassengerPreStart http://<%= scope.lookupvar('::openshift_origin::broker_listen_ip') %>:8080/broker/rest/api.json
PassengerUseGlobalQueue off

<Directory /var/www/openshift/broker/public>
    Options -MultiViews
</Directory>
