# Managed by puppet - module openshift-openshift_origin

# These should not be left at default values, even for a demo.
# "PUBLIC" networking values are ones that end-users should be able to reach.
PUBLIC_HOSTNAME="<%= scope.lookupvar('::openshift_origin::node_fqdn') %>"                         # The node host's public hostname
PUBLIC_IP="<%= scope.lookupvar('::openshift_origin::node_ip_addr') %>"                                # The node host's public IP address
BROKER_HOST="<%= scope.lookupvar('::openshift_origin::broker_fqdn') %>"                     # IP or DNS name of broker server for REST API

# Usually (unless in a demo) this should be changed to the domain for your installation:
CLOUD_DOMAIN="<%= scope.lookupvar('::openshift_origin::domain') %>"                        # Domain suffix to use for applications (Must match broker config)

# You may want these, depending on the complexity of your networking:
EXTERNAL_ETH_DEV='<%= scope.lookupvar('::openshift_origin::conf_node_external_eth_dev') %>'                                 # Specify the internet facing public ethernet device
# INTERNAL_ETH_DEV='eth1'                                 # Specify the internal cluster facing ethernet device
INSTANCE_ID="<%= scope.lookupvar('::openshift_origin::node_fqdn') %>"                                      # Set by RH EC2 automation

# Generally the following should not be changed:
ENABLE_CGROUPS='1'                                        # Enable cgroups for gears (0=off, 1=on)
GEAR_BASE_DIR="/var/lib/openshift"                        # gear root directory
GEAR_SKEL_DIR="/etc/openshift/skel"                       # skel files to use when building a gear
GEAR_SHELL="/usr/bin/oo-trap-user"                        # shell to use for the gear
GEAR_GECOS="OpenShift guest"                              # Gecos information to populate for the gear user
GEAR_MIN_UID=1000                                         # Lower bound of UID used to create gears
GEAR_MAX_UID=6500                                         # Upper bound of UID used to create gears
<% if scope.lookupvar('::openshift_origin::conf_node_supplementary_posix_groups') != "" -%>
GEAR_SUPPLEMENTARY_GROUPS="<%= scope.lookupvar('::openshift_origin::conf_node_supplementary_posix_groups') %>"  # Supplementary groups for gear UIDs (comma separated list)
<% end -%>
OPENSHIFT_NODE_PLUGINS=""                                 # Extentions to load when customize/observe openshift-origin-node models
CARTRIDGE_BASE_PATH="/usr/libexec/openshift/cartridges"   # Locations where cartridges are installed
LAST_ACCESS_DIR="/var/lib/openshift/.last_access"         # Location to maintain last accessed time for gears
APACHE_ACCESS_LOG="/var/log/httpd/openshift_log"          # Localion of httpd for node
PORT_BEGIN=35531                                          # Lower bound of port numbers used to proxy ports externally
PORTS_PER_USER=<%= scope.lookupvar('::openshift_origin::conf_node_proxy_ports_per_gear') %>                            # Number of proxy ports available per gear
CREATE_APP_SYMLINKS=0                                     # If set to 1, creates gear-name symlinks to the UUID directories (debugging only)
OPENSHIFT_HTTP_CONF_DIR="/etc/httpd/conf.d/openshift"

PLATFORM_LOG_FILE=/var/log/openshift/node/platform.log
PLATFORM_LOG_LEVEL=DEBUG
PLATFORM_TRACE_LOG_FILE=/var/log/openshift/node/platform-trace.log
PLATFORM_TRACE_LOG_LEVEL=DEBUG

<% if scope.lookupvar('::openshift_origin::syslog_enabled') == true -%>
# Uncomment and use the following lines if you want platform log entries to contain
# parsable attributes associated with a given MCollective request. Possible values
# are request_id, app_uuid, container_uuid, app_name, app_namespace, cart_name.
# The entries will appear in the order specified.
PLATFORM_LOG_CONTEXT_ENABLED=1
PLATFORM_LOG_CONTEXT_ATTRS=request_id,container_uuid,app_uuid
PLATFORM_LOG_CLASS=SyslogLogger

# Enable Metrics
WATCHMAN_METRICS_ENABLED=true
# How often should the watchman plugin gather metrics
WATCHMAN_METRICS_INTERVAL=60
# Metadata to include in messages
METRICS_METADATA="appName:OPENSHIFT_APP_NAME,gear:OPENSHIFT_GEAR_UUID,app:OPENSHIFT_APP_UUID,ns:OPENSHIFT_NAMESPACE"
<% end -%>

OPENSHIFT_FRONTEND_HTTP_PLUGINS=<%= scope.lookupvar('::openshift_origin::node_frontend_plugins').map{ |p| 'openshift-origin-frontend-' + p }.join(',') %>

CONTAINERIZATION_PLUGIN=openshift-origin-container-<%= scope.lookupvar('::openshift_origin::node_container_plugin') %>

REPORT_BUILD_ANALYTICS=false
<% if scope.lookupvar('::openshift_origin::conf_node_custom_motd') -%>
MOTD_FILE="/etc/openshift/welcome.rhcsh"                   # Change the default rhcs welcome message
<% end -%>

